%This simulates a series of masses connected togeather by springs. 
P1 = [0,0];
P2 = [3,0];
k = 1;
D_rest = 2;
M1 = 100;
M2 = 100;
p1_v = P1;
p2_v = P2;
for i = 0:1000
    X = [P1;P2];
    d = pdist(X,'euclidean');
    F = -k*(d-D_rest);
    a_1 = F/M1;
    a_2 = F/M2;
    norm = (P2-P1)/d;
    d_v1 = a_1*norm;
    d_v2 = a_2*norm;
    P1 = P1-norm*a_1;
    P2 = P2+norm*a_2;
    p1_v = [p1_v;P1];
    p2_v = [p2_v;P2];
end
comet(p1_v(:,1),p1_v(:,2));